<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: BuildingSync::Facility
  
    &mdash; Documentation by YARD 0.9.26
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "BuildingSync::Facility";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (F)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../BuildingSync.html" title="BuildingSync (module)">BuildingSync</a></span></span>
     &raquo; 
    <span class="title">Facility</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: BuildingSync::Facility
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">BuildingSync::Facility</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd><span class='object_link'><a href="Helper.html" title="BuildingSync::Helper (module)">Helper</a></span>, <span class='object_link'><a href="XmlGetSet.html" title="BuildingSync::XmlGetSet (module)">XmlGetSet</a></span>, OsLib_Geometry</dd>
  </dl>
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/buildingsync/model_articulation/facility.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Facility class</p>


  </div>
</div>
<div class="tags">
  

</div>



  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#contacts-instance_method" title="#contacts (instance method)">#<strong>contacts</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute contacts.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#measures-instance_method" title="#measures (instance method)">#<strong>measures</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute measures.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#report-instance_method" title="#report (instance method)">#<strong>report</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute report.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#site-instance_method" title="#site (instance method)">#<strong>site</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute site.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#systems_map-instance_method" title="#systems_map (instance method)">#<strong>systems_map</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute systems_map.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_blank_lighting_system-instance_method" title="#add_blank_lighting_system (instance method)">#<strong>add_blank_lighting_system</strong>(premise_id, premise_type, lighting_system_id = &#39;LightingSystem-1&#39;)  &#x21d2; BuildingSync::LightingSystemType </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Add a minimal lighting system in the doc and as an object.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_cb_modeled-instance_method" title="#add_cb_modeled (instance method)">#<strong>add_cb_modeled</strong>(id = &#39;Scenario-Baseline&#39;)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#build_zone_hash-instance_method" title="#build_zone_hash (instance method)">#<strong>build_zone_hash</strong>(site)  &#x21d2; Hash </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>build zone hash.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_building_systems-instance_method" title="#create_building_systems (instance method)">#<strong>create_building_systems</strong>(main_output_dir:, zone_hash: nil, hvac_delivery_type: &#39;Forced Air&#39;, htg_src: &#39;NaturalGas&#39;, clg_src: &#39;Electricity&#39;, add_space_type_loads: true, add_constructions: true, add_elevators: false, add_exterior_lights: false, add_exhaust: true, add_swh: true, add_hvac: true, add_thermostat: true, remove_objects: false)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>create building systems.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#determine_open_studio_standard-instance_method" title="#determine_open_studio_standard (instance method)">#<strong>determine_open_studio_standard</strong>(standard_to_be_used)  &#x21d2; Standard </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>determine open studio standard.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#determine_open_studio_system_standard-instance_method" title="#determine_open_studio_system_standard (instance method)">#<strong>determine_open_studio_system_standard</strong>  &#x21d2; Standard </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>determine OpenStudio system standard.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#generate_baseline_osm-instance_method" title="#generate_baseline_osm (instance method)">#<strong>generate_baseline_osm</strong>(epw_file_path, output_path, standard_to_be_used, ddy_file = nil)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>generating the OpenStudio model based on the imported BuildingSync Data.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_auditor_contact_name-instance_method" title="#get_auditor_contact_name (instance method)">#<strong>get_auditor_contact_name</strong>  &#x21d2; String<sup>?</sup> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Get the ContactName specified by the AuditorContactID/@IDref.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_epw_file_path-instance_method" title="#get_epw_file_path (instance method)">#<strong>get_epw_file_path</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>get epw_file_path.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_model-instance_method" title="#get_model (instance method)">#<strong>get_model</strong>  &#x21d2; OpenStudio::Model </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>get OpenStudio model.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_space_types-instance_method" title="#get_space_types (instance method)">#<strong>get_space_types</strong>  &#x21d2; Array&lt;OpenStudio::Model::SpaceType&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>get space types.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(base_xml, ns)  &#x21d2; Facility </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>initialize.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#prepare_final_xml-instance_method" title="#prepare_final_xml (instance method)">#<strong>prepare_final_xml</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>TODO: I don&#39;t think we want any of this.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#read_and_create_initial_systems-instance_method" title="#read_and_create_initial_systems (instance method)">#<strong>read_and_create_initial_systems</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>read systems.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#read_other_details-instance_method" title="#read_other_details (instance method)">#<strong>read_other_details</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>read other details from the xml - contact information - audit levels and
dates - Utility information - UDFs.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#read_xml-instance_method" title="#read_xml (instance method)">#<strong>read_xml</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>read xml.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#set_all-instance_method" title="#set_all (instance method)">#<strong>set_all</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>set_all wrapper for Site.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#write_osm-instance_method" title="#write_osm (instance method)">#<strong>write_osm</strong>(dir)  &#x21d2; Array </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>write osm.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="XmlGetSet.html" title="BuildingSync::XmlGetSet (module)">XmlGetSet</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="XmlGetSet.html#get_prefix-instance_method" title="BuildingSync::XmlGetSet#get_prefix (method)">#get_prefix</a></span>, <span class='object_link'><a href="XmlGetSet.html#xget_attribute_for_element-instance_method" title="BuildingSync::XmlGetSet#xget_attribute_for_element (method)">#xget_attribute_for_element</a></span>, <span class='object_link'><a href="XmlGetSet.html#xget_element-instance_method" title="BuildingSync::XmlGetSet#xget_element (method)">#xget_element</a></span>, <span class='object_link'><a href="XmlGetSet.html#xget_id-instance_method" title="BuildingSync::XmlGetSet#xget_id (method)">#xget_id</a></span>, <span class='object_link'><a href="XmlGetSet.html#xget_idrefs-instance_method" title="BuildingSync::XmlGetSet#xget_idrefs (method)">#xget_idrefs</a></span>, <span class='object_link'><a href="XmlGetSet.html#xget_linked_premises-instance_method" title="BuildingSync::XmlGetSet#xget_linked_premises (method)">#xget_linked_premises</a></span>, <span class='object_link'><a href="XmlGetSet.html#xget_name-instance_method" title="BuildingSync::XmlGetSet#xget_name (method)">#xget_name</a></span>, <span class='object_link'><a href="XmlGetSet.html#xget_or_create-instance_method" title="BuildingSync::XmlGetSet#xget_or_create (method)">#xget_or_create</a></span>, <span class='object_link'><a href="XmlGetSet.html#xget_plurals_text_value-instance_method" title="BuildingSync::XmlGetSet#xget_plurals_text_value (method)">#xget_plurals_text_value</a></span>, <span class='object_link'><a href="XmlGetSet.html#xget_text-instance_method" title="BuildingSync::XmlGetSet#xget_text (method)">#xget_text</a></span>, <span class='object_link'><a href="XmlGetSet.html#xget_text_as_bool-instance_method" title="BuildingSync::XmlGetSet#xget_text_as_bool (method)">#xget_text_as_bool</a></span>, <span class='object_link'><a href="XmlGetSet.html#xget_text_as_date-instance_method" title="BuildingSync::XmlGetSet#xget_text_as_date (method)">#xget_text_as_date</a></span>, <span class='object_link'><a href="XmlGetSet.html#xget_text_as_dt-instance_method" title="BuildingSync::XmlGetSet#xget_text_as_dt (method)">#xget_text_as_dt</a></span>, <span class='object_link'><a href="XmlGetSet.html#xget_text_as_float-instance_method" title="BuildingSync::XmlGetSet#xget_text_as_float (method)">#xget_text_as_float</a></span>, <span class='object_link'><a href="XmlGetSet.html#xget_text_as_integer-instance_method" title="BuildingSync::XmlGetSet#xget_text_as_integer (method)">#xget_text_as_integer</a></span>, <span class='object_link'><a href="XmlGetSet.html#xset_or_create-instance_method" title="BuildingSync::XmlGetSet#xset_or_create (method)">#xset_or_create</a></span>, <span class='object_link'><a href="XmlGetSet.html#xset_text-instance_method" title="BuildingSync::XmlGetSet#xset_text (method)">#xset_text</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Helper.html" title="BuildingSync::Helper (module)">Helper</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Helper.html#help_calculate_hours-instance_method" title="BuildingSync::Helper#help_calculate_hours (method)">#help_calculate_hours</a></span>, <span class='object_link'><a href="Helper.html#help_convert-instance_method" title="BuildingSync::Helper#help_convert (method)">#help_convert</a></span>, <span class='object_link'><a href="Helper.html#help_count_number_of_days-instance_method" title="BuildingSync::Helper#help_count_number_of_days (method)">#help_count_number_of_days</a></span>, <span class='object_link'><a href="Helper.html#help_element_class_type_check-instance_method" title="BuildingSync::Helper#help_element_class_type_check (method)">#help_element_class_type_check</a></span>, <span class='object_link'><a href="Helper.html#help_get_attribute_value-instance_method" title="BuildingSync::Helper#help_get_attribute_value (method)">#help_get_attribute_value</a></span>, <span class='object_link'><a href="Helper.html#help_get_default_schedule_set-instance_method" title="BuildingSync::Helper#help_get_default_schedule_set (method)">#help_get_default_schedule_set</a></span>, <span class='object_link'><a href="Helper.html#help_get_duration-instance_method" title="BuildingSync::Helper#help_get_duration (method)">#help_get_duration</a></span>, <span class='object_link'><a href="Helper.html#help_get_end_time-instance_method" title="BuildingSync::Helper#help_get_end_time (method)">#help_get_end_time</a></span>, <span class='object_link'><a href="Helper.html#help_get_end_time_sat-instance_method" title="BuildingSync::Helper#help_get_end_time_sat (method)">#help_get_end_time_sat</a></span>, <span class='object_link'><a href="Helper.html#help_get_end_time_sun-instance_method" title="BuildingSync::Helper#help_get_end_time_sun (method)">#help_get_end_time_sun</a></span>, <span class='object_link'><a href="Helper.html#help_get_end_time_weekday-instance_method" title="BuildingSync::Helper#help_get_end_time_weekday (method)">#help_get_end_time_weekday</a></span>, <span class='object_link'><a href="Helper.html#help_get_or_create-instance_method" title="BuildingSync::Helper#help_get_or_create (method)">#help_get_or_create</a></span>, <span class='object_link'><a href="Helper.html#help_get_schedule_rule_set_from_schedule-instance_method" title="BuildingSync::Helper#help_get_schedule_rule_set_from_schedule (method)">#help_get_schedule_rule_set_from_schedule</a></span>, <span class='object_link'><a href="Helper.html#help_get_start_time-instance_method" title="BuildingSync::Helper#help_get_start_time (method)">#help_get_start_time</a></span>, <span class='object_link'><a href="Helper.html#help_get_start_time_sat-instance_method" title="BuildingSync::Helper#help_get_start_time_sat (method)">#help_get_start_time_sat</a></span>, <span class='object_link'><a href="Helper.html#help_get_start_time_sun-instance_method" title="BuildingSync::Helper#help_get_start_time_sun (method)">#help_get_start_time_sun</a></span>, <span class='object_link'><a href="Helper.html#help_get_start_time_weekday-instance_method" title="BuildingSync::Helper#help_get_start_time_weekday (method)">#help_get_start_time_weekday</a></span>, <span class='object_link'><a href="Helper.html#help_get_text_value-instance_method" title="BuildingSync::Helper#help_get_text_value (method)">#help_get_text_value</a></span>, <span class='object_link'><a href="Helper.html#help_get_text_value_as_bool-instance_method" title="BuildingSync::Helper#help_get_text_value_as_bool (method)">#help_get_text_value_as_bool</a></span>, <span class='object_link'><a href="Helper.html#help_get_text_value_as_date-instance_method" title="BuildingSync::Helper#help_get_text_value_as_date (method)">#help_get_text_value_as_date</a></span>, <span class='object_link'><a href="Helper.html#help_get_text_value_as_datetime-instance_method" title="BuildingSync::Helper#help_get_text_value_as_datetime (method)">#help_get_text_value_as_datetime</a></span>, <span class='object_link'><a href="Helper.html#help_get_text_value_as_float-instance_method" title="BuildingSync::Helper#help_get_text_value_as_float (method)">#help_get_text_value_as_float</a></span>, <span class='object_link'><a href="Helper.html#help_get_text_value_as_integer-instance_method" title="BuildingSync::Helper#help_get_text_value_as_integer (method)">#help_get_text_value_as_integer</a></span>, <span class='object_link'><a href="Helper.html#help_get_zone_name_list-instance_method" title="BuildingSync::Helper#help_get_zone_name_list (method)">#help_get_zone_name_list</a></span>, <span class='object_link'><a href="Helper.html#help_load_doc-instance_method" title="BuildingSync::Helper#help_load_doc (method)">#help_load_doc</a></span>, <span class='object_link'><a href="Helper.html#help_print_all_schedules-instance_method" title="BuildingSync::Helper#help_print_all_schedules (method)">#help_print_all_schedules</a></span>, <span class='object_link'><a href="Helper.html#help_print_schedule-instance_method" title="BuildingSync::Helper#help_print_schedule (method)">#help_print_schedule</a></span>, <span class='object_link'><a href="Helper.html#help_write_profile-instance_method" title="BuildingSync::Helper#help_write_profile (method)">#help_write_profile</a></span></p>

  <div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(base_xml, ns)  &#x21d2; <tt><span class='object_link'><a href="" title="BuildingSync::Facility (class)">Facility</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>initialize</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>base_xml</span>
      
      
        <span class='type'>(<tt>REXML:Element</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>ns</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/buildingsync/model_articulation/facility.rb', line 64</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_base_xml'>base_xml</span><span class='comma'>,</span> <span class='id identifier rubyid_ns'>ns</span><span class='rparen'>)</span>
  <span class='ivar'>@base_xml</span> <span class='op'>=</span> <span class='id identifier rubyid_base_xml'>base_xml</span>
  <span class='ivar'>@ns</span> <span class='op'>=</span> <span class='id identifier rubyid_ns'>ns</span>
  <span class='ivar'>@g</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../BuildingSync.html" title="BuildingSync (module)">BuildingSync</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Generator.html" title="BuildingSync::Generator (class)">Generator</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Generator.html#initialize-instance_method" title="BuildingSync::Generator#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_ns'>ns</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_help_element_class_type_check'>help_element_class_type_check</span><span class='lparen'>(</span><span class='id identifier rubyid_base_xml'>base_xml</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Facility</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>

  <span class='ivar'>@report_xml</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@site_xml</span> <span class='op'>=</span> <span class='kw'>nil</span>

  <span class='ivar'>@site</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@report</span> <span class='op'>=</span> <span class='kw'>nil</span>

  <span class='ivar'>@measures</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='ivar'>@contacts</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='ivar'>@systems_map</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>

  <span class='comment'># TODO: Go under Report
</span>  <span class='ivar'>@utility_name</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@utility_meter_numbers</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='ivar'>@metering_configuration</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@spaces_excluded_from_gross_floor_area</span> <span class='op'>=</span> <span class='kw'>nil</span>

  <span class='ivar'>@load_system</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@hvac_system</span> <span class='op'>=</span> <span class='kw'>nil</span>

  <span class='comment'># reading the xml
</span>  <span class='id identifier rubyid_read_xml'>read_xml</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <div class="method_details first">
  <h3 class="signature first" id="contacts-instance_method">
  
    #<strong>contacts</strong>  &#x21d2; <tt>Object</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute contacts.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


437
438
439</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/buildingsync/model_articulation/facility.rb', line 437</span>

<span class='kw'>def</span> <span class='id identifier rubyid_contacts'>contacts</span>
  <span class='ivar'>@contacts</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="measures-instance_method">
  
    #<strong>measures</strong>  &#x21d2; <tt>Object</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute measures.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


437
438
439</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/buildingsync/model_articulation/facility.rb', line 437</span>

<span class='kw'>def</span> <span class='id identifier rubyid_measures'>measures</span>
  <span class='ivar'>@measures</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="report-instance_method">
  
    #<strong>report</strong>  &#x21d2; <tt>Object</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute report.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


437
438
439</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/buildingsync/model_articulation/facility.rb', line 437</span>

<span class='kw'>def</span> <span class='id identifier rubyid_report'>report</span>
  <span class='ivar'>@report</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="site-instance_method">
  
    #<strong>site</strong>  &#x21d2; <tt>Object</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute site.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


437
438
439</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/buildingsync/model_articulation/facility.rb', line 437</span>

<span class='kw'>def</span> <span class='id identifier rubyid_site'>site</span>
  <span class='ivar'>@site</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="systems_map-instance_method">
  
    #<strong>systems_map</strong>  &#x21d2; <tt>Object</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute systems_map.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


437
438
439</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/buildingsync/model_articulation/facility.rb', line 437</span>

<span class='kw'>def</span> <span class='id identifier rubyid_systems_map'>systems_map</span>
  <span class='ivar'>@systems_map</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="add_blank_lighting_system-instance_method">
  
    #<strong>add_blank_lighting_system</strong>(premise_id, premise_type, lighting_system_id = &#39;LightingSystem-1&#39;)  &#x21d2; <tt><span class='object_link'><a href="LightingSystemType.html" title="BuildingSync::LightingSystemType (class)">BuildingSync::LightingSystemType</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Add a minimal lighting system in the doc and as an object</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>premise_id</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>id of the premise which the system will be linked to</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>premise_type</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>type of premise, i.e. Building, Section, etc.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>lighting_system_id</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;LightingSystem-1&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>id for new lighting system</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="LightingSystemType.html" title="BuildingSync::LightingSystemType (class)">BuildingSync::LightingSystemType</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>new lighting system object</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


245
246
247
248
249
250
251
252
253
254
255
256
257
258
259</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/buildingsync/model_articulation/facility.rb', line 245</span>

<span class='kw'>def</span> <span class='id identifier rubyid_add_blank_lighting_system'>add_blank_lighting_system</span><span class='lparen'>(</span><span class='id identifier rubyid_premise_id'>premise_id</span><span class='comma'>,</span> <span class='id identifier rubyid_premise_type'>premise_type</span><span class='comma'>,</span> <span class='id identifier rubyid_lighting_system_id'>lighting_system_id</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>LightingSystem-1</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='comment'># Create new lighting system and link it
</span>  <span class='id identifier rubyid_lighting_system_xml'>lighting_system_xml</span> <span class='op'>=</span> <span class='ivar'>@g</span><span class='period'>.</span><span class='id identifier rubyid_add_lighting_system_to_facility'>add_lighting_system_to_facility</span><span class='lparen'>(</span><span class='ivar'>@base_xml</span><span class='comma'>,</span> <span class='id identifier rubyid_lighting_system_id'>lighting_system_id</span><span class='rparen'>)</span>
  <span class='ivar'>@g</span><span class='period'>.</span><span class='id identifier rubyid_add_linked_premise'>add_linked_premise</span><span class='lparen'>(</span><span class='id identifier rubyid_lighting_system_xml'>lighting_system_xml</span><span class='comma'>,</span> <span class='id identifier rubyid_premise_id'>premise_id</span><span class='comma'>,</span> <span class='id identifier rubyid_premise_type'>premise_type</span><span class='rparen'>)</span>

  <span class='comment'># Create a new array if doesn&#39;t yet exist
</span>  <span class='kw'>if</span> <span class='op'>!</span><span class='ivar'>@systems_map</span><span class='period'>.</span><span class='id identifier rubyid_key?'>key?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>LightingSystems</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='ivar'>@systems_map</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>LightingSystems</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>

  <span class='comment'># Create new lighting system and add to array
</span>  <span class='id identifier rubyid_new_system'>new_system</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../BuildingSync.html" title="BuildingSync (module)">BuildingSync</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="LightingSystemType.html" title="BuildingSync::LightingSystemType (class)">LightingSystemType</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="LightingSystemType.html#initialize-instance_method" title="BuildingSync::LightingSystemType#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_lighting_system_xml'>lighting_system_xml</span><span class='comma'>,</span> <span class='ivar'>@ns</span><span class='rparen'>)</span>
  <span class='ivar'>@systems_map</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>LightingSystems</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_new_system'>new_system</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_new_system'>new_system</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="add_cb_modeled-instance_method">
  
    #<strong>add_cb_modeled</strong>(id = &#39;Scenario-Baseline&#39;)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li>Report.add_cb_modeled</li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


236
237
238</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/buildingsync/model_articulation/facility.rb', line 236</span>

<span class='kw'>def</span> <span class='id identifier rubyid_add_cb_modeled'>add_cb_modeled</span><span class='lparen'>(</span><span class='id identifier rubyid_id'>id</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Scenario-Baseline</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='ivar'>@report</span><span class='period'>.</span><span class='id identifier rubyid_add_cb_modeled'>add_cb_modeled</span><span class='lparen'>(</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="build_zone_hash-instance_method">
  
    #<strong>build_zone_hash</strong>(site)  &#x21d2; <tt>Hash</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>build zone hash</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>site</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Site.html" title="BuildingSync::Site (class)">BuildingSync::Site</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


170
171
172</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/buildingsync/model_articulation/facility.rb', line 170</span>

<span class='kw'>def</span> <span class='id identifier rubyid_build_zone_hash'>build_zone_hash</span><span class='lparen'>(</span><span class='id identifier rubyid_site'>site</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_site'>site</span><span class='period'>.</span><span class='id identifier rubyid_build_zone_hash'>build_zone_hash</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create_building_systems-instance_method">
  
    #<strong>create_building_systems</strong>(main_output_dir:, zone_hash: nil, hvac_delivery_type: &#39;Forced Air&#39;, htg_src: &#39;NaturalGas&#39;, clg_src: &#39;Electricity&#39;, add_space_type_loads: true, add_constructions: true, add_elevators: false, add_exterior_lights: false, add_exhaust: true, add_swh: true, add_hvac: true, add_thermostat: true, remove_objects: false)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>create building systems</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>main_output_dir</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>main output path, not scenario specific. i.e. SR should be a subdirectory</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>zone_hash</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>hvac_delivery_type</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;Forced Air&#39;</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>htg_src</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;NaturalGas&#39;</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>clg_src</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;Electricity&#39;</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>add_space_type_loads</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>add_constructions</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>add_elevators</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>false</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>add_exterior_lights</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>false</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>add_exhaust</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>add_swh</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>add_hvac</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>add_thermostat</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>remove_objects</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>false</tt>)</em>
      
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/buildingsync/model_articulation/facility.rb', line 288</span>

<span class='kw'>def</span> <span class='id identifier rubyid_create_building_systems'>create_building_systems</span><span class='lparen'>(</span><span class='label'>main_output_dir:</span><span class='comma'>,</span> <span class='label'>zone_hash:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>hvac_delivery_type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Forced Air</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>htg_src:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>NaturalGas</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>clg_src:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Electricity</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
                            <span class='label'>add_space_type_loads:</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='label'>add_constructions:</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='label'>add_elevators:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>add_exterior_lights:</span> <span class='kw'>false</span><span class='comma'>,</span>
                            <span class='label'>add_exhaust:</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='label'>add_swh:</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='label'>add_hvac:</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='label'>add_thermostat:</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='label'>remove_objects:</span> <span class='kw'>false</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_model'>model</span> <span class='op'>=</span> <span class='ivar'>@site</span><span class='period'>.</span><span class='id identifier rubyid_get_model'>get_model</span>
  <span class='id identifier rubyid_template'>template</span> <span class='op'>=</span> <span class='ivar'>@site</span><span class='period'>.</span><span class='id identifier rubyid_get_standard_template'>get_standard_template</span>
  <span class='id identifier rubyid_system_type'>system_type</span> <span class='op'>=</span> <span class='ivar'>@site</span><span class='period'>.</span><span class='id identifier rubyid_get_system_type'>get_system_type</span>
  <span class='id identifier rubyid_climate_zone'>climate_zone</span> <span class='op'>=</span> <span class='ivar'>@site</span><span class='period'>.</span><span class='id identifier rubyid_get_climate_zone'>get_climate_zone</span>

  <span class='id identifier rubyid_onsite_parking_fraction'>onsite_parking_fraction</span> <span class='op'>=</span> <span class='float'>1.0</span>
  <span class='id identifier rubyid_exterior_lighting_zone'>exterior_lighting_zone</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>3 - All Other Areas</span><span class='tstring_end'>&#39;</span></span>

  <span class='id identifier rubyid_initial_objects'>initial_objects</span> <span class='op'>=</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_getModelObjects'>getModelObjects</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span>

  <span class='const'>OpenStudio</span><span class='period'>.</span><span class='id identifier rubyid_logFree'>logFree</span><span class='lparen'>(</span><span class='const'>OpenStudio</span><span class='op'>::</span><span class='const'>Info</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>BuildingSync.Facility.create_building_system</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The building started with </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_initial_objects'>initial_objects</span><span class='embexpr_end'>}</span><span class='tstring_content'> objects.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>BuildingSync.Facility.create_building_system - The building started with </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_initial_objects'>initial_objects</span><span class='embexpr_end'>}</span><span class='tstring_content'> objects.</span><span class='tstring_end'>&quot;</span></span>

  <span class='comment'># TODO: systems_xml.elements[&quot;#{@ns}:LightingSystems&quot;]
</span>  <span class='comment'># Make the open_studio_system_standard applier
</span>  <span class='id identifier rubyid_open_studio_system_standard'>open_studio_system_standard</span> <span class='op'>=</span> <span class='id identifier rubyid_determine_open_studio_system_standard'>determine_open_studio_system_standard</span>
  <span class='const'>OpenStudio</span><span class='period'>.</span><span class='id identifier rubyid_logFree'>logFree</span><span class='lparen'>(</span><span class='const'>OpenStudio</span><span class='op'>::</span><span class='const'>Info</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>BuildingSync.Facility.create_building_system</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Building Standard with template: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_template'>template</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

  <span class='comment'># add internal loads to space types
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_add_space_type_loads'>add_space_type_loads</span>
    <span class='ivar'>@load_system</span><span class='period'>.</span><span class='id identifier rubyid_add_internal_loads'>add_internal_loads</span><span class='lparen'>(</span><span class='id identifier rubyid_model'>model</span><span class='comma'>,</span> <span class='id identifier rubyid_open_studio_system_standard'>open_studio_system_standard</span><span class='comma'>,</span> <span class='id identifier rubyid_template'>template</span><span class='comma'>,</span> <span class='ivar'>@site</span><span class='period'>.</span><span class='id identifier rubyid_get_building_sections'>get_building_sections</span><span class='comma'>,</span> <span class='id identifier rubyid_remove_objects'>remove_objects</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_new_occupancy_peak'>new_occupancy_peak</span> <span class='op'>=</span> <span class='ivar'>@site</span><span class='period'>.</span><span class='id identifier rubyid_get_peak_occupancy'>get_peak_occupancy</span>
    <span class='id identifier rubyid_new_occupancy_peak'>new_occupancy_peak</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='id identifier rubyid_occupancy_peak'>occupancy_peak</span><span class='op'>|</span>
      <span class='id identifier rubyid_floor_area'>floor_area</span> <span class='op'>=</span> <span class='ivar'>@site</span><span class='period'>.</span><span class='id identifier rubyid_get_floor_area'>get_floor_area</span><span class='lbracket'>[</span><span class='id identifier rubyid_id'>id</span><span class='rbracket'>]</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_occupancy_peak'>occupancy_peak</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_floor_area'>floor_area</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_floor_area'>floor_area</span> <span class='op'>&gt;</span> <span class='float'>0.0</span>
        <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>new peak occupancy value found: absolute occupancy: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_occupancy_peak'>occupancy_peak</span><span class='embexpr_end'>}</span><span class='tstring_content'> occupancy per area: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_occupancy_peak'>occupancy_peak</span><span class='period'>.</span><span class='id identifier rubyid_to_f'>to_f</span> <span class='op'>/</span> <span class='id identifier rubyid_floor_area'>floor_area</span><span class='period'>.</span><span class='id identifier rubyid_to_f'>to_f</span><span class='embexpr_end'>}</span><span class='tstring_content'> and area: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_floor_area'>floor_area</span><span class='embexpr_end'>}</span><span class='tstring_content'> m2</span><span class='tstring_end'>&quot;</span></span>
        <span class='ivar'>@load_system</span><span class='period'>.</span><span class='id identifier rubyid_adjust_occupancy_peak'>adjust_occupancy_peak</span><span class='lparen'>(</span><span class='id identifier rubyid_model'>model</span><span class='comma'>,</span> <span class='id identifier rubyid_occupancy_peak'>occupancy_peak</span><span class='comma'>,</span> <span class='id identifier rubyid_floor_area'>floor_area</span><span class='comma'>,</span> <span class='ivar'>@site</span><span class='period'>.</span><span class='id identifier rubyid_get_space_types_from_hash'>get_space_types_from_hash</span><span class='lparen'>(</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='comment'># identify primary building type (used for construction, and ideally HVAC as well)
</span>  <span class='id identifier rubyid_building_types'>building_types</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_getSpaceTypes'>getSpaceTypes</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_space_type'>space_type</span><span class='op'>|</span>
    <span class='comment'># populate hash of building types
</span>    <span class='kw'>if</span> <span class='id identifier rubyid_space_type'>space_type</span><span class='period'>.</span><span class='id identifier rubyid_standardsBuildingType'>standardsBuildingType</span><span class='period'>.</span><span class='id identifier rubyid_is_initialized'>is_initialized</span>
      <span class='id identifier rubyid_bldg_type'>bldg_type</span> <span class='op'>=</span> <span class='id identifier rubyid_space_type'>space_type</span><span class='period'>.</span><span class='id identifier rubyid_standardsBuildingType'>standardsBuildingType</span><span class='period'>.</span><span class='id identifier rubyid_get'>get</span>
      <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_building_types'>building_types</span><span class='period'>.</span><span class='id identifier rubyid_key?'>key?</span><span class='lparen'>(</span><span class='id identifier rubyid_bldg_type'>bldg_type</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_building_types'>building_types</span><span class='lbracket'>[</span><span class='id identifier rubyid_bldg_type'>bldg_type</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_space_type'>space_type</span><span class='period'>.</span><span class='id identifier rubyid_floorArea'>floorArea</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_building_types'>building_types</span><span class='lbracket'>[</span><span class='id identifier rubyid_bldg_type'>bldg_type</span><span class='rbracket'>]</span> <span class='op'>+=</span> <span class='id identifier rubyid_space_type'>space_type</span><span class='period'>.</span><span class='id identifier rubyid_floorArea'>floorArea</span>
      <span class='kw'>end</span>
    <span class='kw'>else</span>
      <span class='const'>OpenStudio</span><span class='period'>.</span><span class='id identifier rubyid_logFree'>logFree</span><span class='lparen'>(</span><span class='const'>OpenStudio</span><span class='op'>::</span><span class='const'>Warn</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>BuildingSync.Facility.create_building_system</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Can&#39;t identify building type for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_space_type'>space_type</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_primary_bldg_type'>primary_bldg_type</span> <span class='op'>=</span> <span class='id identifier rubyid_building_types'>building_types</span><span class='period'>.</span><span class='id identifier rubyid_key'>key</span><span class='lparen'>(</span><span class='id identifier rubyid_building_types'>building_types</span><span class='period'>.</span><span class='id identifier rubyid_values'>values</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span><span class='rparen'>)</span> <span class='comment'># TODO: - this fails if no space types, or maybe just no space types with standards
</span>  <span class='id identifier rubyid_lookup_building_type'>lookup_building_type</span> <span class='op'>=</span> <span class='id identifier rubyid_open_studio_system_standard'>open_studio_system_standard</span><span class='period'>.</span><span class='id identifier rubyid_model_get_lookup_name'>model_get_lookup_name</span><span class='lparen'>(</span><span class='id identifier rubyid_primary_bldg_type'>primary_bldg_type</span><span class='rparen'>)</span> <span class='comment'># Used for some lookups in the standards gem
</span>  <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_getBuilding'>getBuilding</span><span class='period'>.</span><span class='id identifier rubyid_setStandardsBuildingType'>setStandardsBuildingType</span><span class='lparen'>(</span><span class='id identifier rubyid_primary_bldg_type'>primary_bldg_type</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_envelope_system'>envelope_system</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='comment'># make construction set and apply to building
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_add_constructions'>add_constructions</span>
    <span class='id identifier rubyid_envelope_system'>envelope_system</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="EnvelopeSystem.html" title="BuildingSync::EnvelopeSystem (class)">EnvelopeSystem</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="EnvelopeSystem.html#initialize-instance_method" title="BuildingSync::EnvelopeSystem#initialize (method)">new</a></span></span>
    <span class='id identifier rubyid_envelope_system'>envelope_system</span><span class='period'>.</span><span class='id identifier rubyid_create'>create</span><span class='lparen'>(</span><span class='id identifier rubyid_model'>model</span><span class='comma'>,</span> <span class='id identifier rubyid_open_studio_system_standard'>open_studio_system_standard</span><span class='comma'>,</span> <span class='id identifier rubyid_primary_bldg_type'>primary_bldg_type</span><span class='comma'>,</span> <span class='id identifier rubyid_lookup_building_type'>lookup_building_type</span><span class='comma'>,</span> <span class='id identifier rubyid_remove_objects'>remove_objects</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># add elevators (returns ElectricEquipment object)
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_add_elevators'>add_elevators</span>
    <span class='ivar'>@load_system</span><span class='period'>.</span><span class='id identifier rubyid_add_elevator'>add_elevator</span><span class='lparen'>(</span><span class='id identifier rubyid_model'>model</span><span class='comma'>,</span> <span class='id identifier rubyid_open_studio_system_standard'>open_studio_system_standard</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># add exterior lights (returns a hash where key is lighting type and value is exteriorLights object)
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_add_exterior_lights'>add_exterior_lights</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='ivar'>@systems_map</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>LightingSystems</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='ivar'>@systems_map</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>LightingSystems</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_lighting_system'>lighting_system</span><span class='op'>|</span>
        <span class='id identifier rubyid_lighting_system'>lighting_system</span><span class='period'>.</span><span class='id identifier rubyid_add_exterior_lights'>add_exterior_lights</span><span class='lparen'>(</span><span class='id identifier rubyid_model'>model</span><span class='comma'>,</span> <span class='id identifier rubyid_open_studio_system_standard'>open_studio_system_standard</span><span class='comma'>,</span> <span class='id identifier rubyid_onsite_parking_fraction'>onsite_parking_fraction</span><span class='comma'>,</span> <span class='id identifier rubyid_exterior_lighting_zone'>exterior_lighting_zone</span><span class='comma'>,</span> <span class='id identifier rubyid_remove_objects'>remove_objects</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_new_lighting_system'>new_lighting_system</span> <span class='op'>=</span> <span class='id identifier rubyid_add_blank_lighting_system'>add_blank_lighting_system</span><span class='lparen'>(</span><span class='ivar'>@site</span><span class='period'>.</span><span class='id identifier rubyid_get_building'>get_building</span><span class='period'>.</span><span class='id identifier rubyid_xget_id'>xget_id</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Building</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_new_lighting_system'>new_lighting_system</span><span class='period'>.</span><span class='id identifier rubyid_add_exterior_lights'>add_exterior_lights</span><span class='lparen'>(</span><span class='id identifier rubyid_model'>model</span><span class='comma'>,</span> <span class='id identifier rubyid_open_studio_system_standard'>open_studio_system_standard</span><span class='comma'>,</span> <span class='id identifier rubyid_onsite_parking_fraction'>onsite_parking_fraction</span><span class='comma'>,</span> <span class='id identifier rubyid_exterior_lighting_zone'>exterior_lighting_zone</span><span class='comma'>,</span> <span class='id identifier rubyid_remove_objects'>remove_objects</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='comment'># add_exhaust
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_add_exhaust'>add_exhaust</span>
    <span class='ivar'>@hvac_system</span><span class='period'>.</span><span class='id identifier rubyid_add_exhaust'>add_exhaust</span><span class='lparen'>(</span><span class='id identifier rubyid_model'>model</span><span class='comma'>,</span> <span class='id identifier rubyid_open_studio_system_standard'>open_studio_system_standard</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Adjacent</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_remove_objects'>remove_objects</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># add service water heating demand and supply
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_add_swh'>add_swh</span>
    <span class='id identifier rubyid_service_hot_water_system'>service_hot_water_system</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="ServiceHotWaterSystem.html" title="BuildingSync::ServiceHotWaterSystem (class)">ServiceHotWaterSystem</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="ServiceHotWaterSystem.html#initialize-instance_method" title="BuildingSync::ServiceHotWaterSystem#initialize (method)">new</a></span></span>
    <span class='id identifier rubyid_service_hot_water_system'>service_hot_water_system</span><span class='period'>.</span><span class='id identifier rubyid_add'>add</span><span class='lparen'>(</span><span class='id identifier rubyid_model'>model</span><span class='comma'>,</span> <span class='id identifier rubyid_open_studio_system_standard'>open_studio_system_standard</span><span class='comma'>,</span> <span class='id identifier rubyid_remove_objects'>remove_objects</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># TODO: Make this better
</span>  <span class='ivar'>@lighting_system</span><span class='period'>.</span><span class='id identifier rubyid_add_daylighting_controls'>add_daylighting_controls</span><span class='lparen'>(</span><span class='id identifier rubyid_model'>model</span><span class='comma'>,</span> <span class='id identifier rubyid_open_studio_system_standard'>open_studio_system_standard</span><span class='comma'>,</span> <span class='id identifier rubyid_template'>template</span><span class='comma'>,</span> <span class='id identifier rubyid_main_output_dir'>main_output_dir</span><span class='rparen'>)</span>

  <span class='comment'># TODO: - add internal mass
</span>  <span class='comment'># TODO: - add slab modeling and slab insulation
</span>  <span class='comment'># TODO: - fuel customization for cooking and laundry
</span>  <span class='comment'># TODO: - add refrigeration
</span>  <span class='comment'># remove refrigeration equipment
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_remove_objects'>remove_objects</span>
    <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_getRefrigerationSystems'>getRefrigerationSystems</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:remove</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># works by switching some fraction of electric loads to gas if requested (assuming base load is electric)
</span>  <span class='comment'># add thermostats
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_add_thermostat'>add_thermostat</span>
    <span class='ivar'>@hvac_system</span><span class='period'>.</span><span class='id identifier rubyid_add_thermostats'>add_thermostats</span><span class='lparen'>(</span><span class='id identifier rubyid_model'>model</span><span class='comma'>,</span> <span class='id identifier rubyid_open_studio_system_standard'>open_studio_system_standard</span><span class='comma'>,</span> <span class='id identifier rubyid_remove_objects'>remove_objects</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># add hvac system
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_add_hvac'>add_hvac</span>
    <span class='ivar'>@hvac_system</span><span class='period'>.</span><span class='id identifier rubyid_add_hvac'>add_hvac</span><span class='lparen'>(</span><span class='id identifier rubyid_model'>model</span><span class='comma'>,</span> <span class='id identifier rubyid_zone_hash'>zone_hash</span><span class='comma'>,</span> <span class='id identifier rubyid_open_studio_system_standard'>open_studio_system_standard</span><span class='comma'>,</span> <span class='id identifier rubyid_system_type'>system_type</span><span class='comma'>,</span> <span class='id identifier rubyid_hvac_delivery_type'>hvac_delivery_type</span><span class='comma'>,</span> <span class='id identifier rubyid_htg_src'>htg_src</span><span class='comma'>,</span> <span class='id identifier rubyid_clg_src'>clg_src</span><span class='comma'>,</span> <span class='id identifier rubyid_remove_objects'>remove_objects</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># set hvac controls and efficiencies (this should be last model articulation element)
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_add_hvac'>add_hvac</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_remove_objects'>remove_objects</span>
      <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_purgeUnusedResourceObjects'>purgeUnusedResourceObjects</span>
      <span class='id identifier rubyid_objects_after_cleanup'>objects_after_cleanup</span> <span class='op'>=</span> <span class='id identifier rubyid_initial_objects'>initial_objects</span> <span class='op'>-</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_getModelObjects'>getModelObjects</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span>
      <span class='const'>OpenStudio</span><span class='period'>.</span><span class='id identifier rubyid_logFree'>logFree</span><span class='lparen'>(</span><span class='const'>OpenStudio</span><span class='op'>::</span><span class='const'>Warn</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>BuildingSync.Facility.create_building_system</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Removing </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_objects_after_cleanup'>objects_after_cleanup</span><span class='embexpr_end'>}</span><span class='tstring_content'> objects from model</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='ivar'>@hvac_system</span><span class='period'>.</span><span class='id identifier rubyid_apply_sizing_and_assumptions'>apply_sizing_and_assumptions</span><span class='lparen'>(</span><span class='id identifier rubyid_model'>model</span><span class='comma'>,</span> <span class='id identifier rubyid_main_output_dir'>main_output_dir</span><span class='comma'>,</span> <span class='id identifier rubyid_open_studio_system_standard'>open_studio_system_standard</span><span class='comma'>,</span> <span class='id identifier rubyid_primary_bldg_type'>primary_bldg_type</span><span class='comma'>,</span> <span class='id identifier rubyid_system_type'>system_type</span><span class='comma'>,</span> <span class='id identifier rubyid_climate_zone'>climate_zone</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># remove everything but spaces, zones, and stub space types (extend as needed for additional objects, may make bool arg for this)
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_remove_objects'>remove_objects</span>
    <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_purgeUnusedResourceObjects'>purgeUnusedResourceObjects</span>
    <span class='id identifier rubyid_objects_after_cleanup'>objects_after_cleanup</span> <span class='op'>=</span> <span class='id identifier rubyid_initial_objects'>initial_objects</span> <span class='op'>-</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_getModelObjects'>getModelObjects</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_objects_after_cleanup'>objects_after_cleanup</span> <span class='op'>&gt;</span> <span class='int'>0</span>
      <span class='const'>OpenStudio</span><span class='period'>.</span><span class='id identifier rubyid_logFree'>logFree</span><span class='lparen'>(</span><span class='const'>OpenStudio</span><span class='op'>::</span><span class='const'>Info</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>BuildingSync.Facility.create_building_system</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Removing </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_objects_after_cleanup'>objects_after_cleanup</span><span class='embexpr_end'>}</span><span class='tstring_content'> objects from model</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='comment'># report final condition of model
</span>  <span class='const'>OpenStudio</span><span class='period'>.</span><span class='id identifier rubyid_logFree'>logFree</span><span class='lparen'>(</span><span class='const'>OpenStudio</span><span class='op'>::</span><span class='const'>Info</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>BuildingSync.Facility.create_building_system</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The building finished with </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_getModelObjects'>getModelObjects</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span><span class='embexpr_end'>}</span><span class='tstring_content'> objects.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>BuildingSync.Facility.create_building_system - The building finished with </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_getModelObjects'>getModelObjects</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span><span class='embexpr_end'>}</span><span class='tstring_content'> objects.</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="determine_open_studio_standard-instance_method">
  
    #<strong>determine_open_studio_standard</strong>(standard_to_be_used)  &#x21d2; <tt>Standard</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>determine open studio standard</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>standard_to_be_used</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Standard</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


148
149
150</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/buildingsync/model_articulation/facility.rb', line 148</span>

<span class='kw'>def</span> <span class='id identifier rubyid_determine_open_studio_standard'>determine_open_studio_standard</span><span class='lparen'>(</span><span class='id identifier rubyid_standard_to_be_used'>standard_to_be_used</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='ivar'>@site</span><span class='period'>.</span><span class='id identifier rubyid_determine_open_studio_standard'>determine_open_studio_standard</span><span class='lparen'>(</span><span class='id identifier rubyid_standard_to_be_used'>standard_to_be_used</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="determine_open_studio_system_standard-instance_method">
  
    #<strong>determine_open_studio_system_standard</strong>  &#x21d2; <tt>Standard</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>determine OpenStudio system standard</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Standard</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


206
207
208</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/buildingsync/model_articulation/facility.rb', line 206</span>

<span class='kw'>def</span> <span class='id identifier rubyid_determine_open_studio_system_standard'>determine_open_studio_system_standard</span>
  <span class='kw'>return</span> <span class='ivar'>@site</span><span class='period'>.</span><span class='id identifier rubyid_determine_open_studio_system_standard'>determine_open_studio_system_standard</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="generate_baseline_osm-instance_method">
  
    #<strong>generate_baseline_osm</strong>(epw_file_path, output_path, standard_to_be_used, ddy_file = nil)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>generating the OpenStudio model based on the imported BuildingSync Data</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>epw_file_path</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>output_path</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>standard_to_be_used</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>ddy_file</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


158
159
160
161
162
163
164
165</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/buildingsync/model_articulation/facility.rb', line 158</span>

<span class='kw'>def</span> <span class='id identifier rubyid_generate_baseline_osm'>generate_baseline_osm</span><span class='lparen'>(</span><span class='id identifier rubyid_epw_file_path'>epw_file_path</span><span class='comma'>,</span> <span class='id identifier rubyid_output_path'>output_path</span><span class='comma'>,</span> <span class='id identifier rubyid_standard_to_be_used'>standard_to_be_used</span><span class='comma'>,</span> <span class='id identifier rubyid_ddy_file'>ddy_file</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='ivar'>@site</span><span class='period'>.</span><span class='id identifier rubyid_generate_baseline_osm'>generate_baseline_osm</span><span class='lparen'>(</span><span class='id identifier rubyid_epw_file_path'>epw_file_path</span><span class='comma'>,</span> <span class='id identifier rubyid_standard_to_be_used'>standard_to_be_used</span><span class='comma'>,</span> <span class='id identifier rubyid_ddy_file'>ddy_file</span><span class='rparen'>)</span>

  <span class='ivar'>@epw_file_path</span> <span class='op'>=</span> <span class='ivar'>@site</span><span class='period'>.</span><span class='id identifier rubyid_get_epw_file_path'>get_epw_file_path</span>
  <span class='id identifier rubyid_zone_hash'>zone_hash</span> <span class='op'>=</span> <span class='id identifier rubyid_build_zone_hash'>build_zone_hash</span><span class='lparen'>(</span><span class='ivar'>@site</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_create_building_systems'>create_building_systems</span><span class='lparen'>(</span><span class='label'>main_output_dir:</span> <span class='id identifier rubyid_output_path'>output_path</span><span class='comma'>,</span> <span class='label'>zone_hash:</span> <span class='id identifier rubyid_zone_hash'>zone_hash</span><span class='comma'>,</span> <span class='label'>remove_objects:</span> <span class='kw'>true</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_auditor_contact_name-instance_method">
  
    #<strong>get_auditor_contact_name</strong>  &#x21d2; <tt>String</tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Get the ContactName specified by the AuditorContactID/@IDref</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if exists</p>
</div>
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if not</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


189
190
191
192
193
194
195
196</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/buildingsync/model_articulation/facility.rb', line 189</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_auditor_contact_name'>get_auditor_contact_name</span>
  <span class='id identifier rubyid_auditor_id'>auditor_id</span> <span class='op'>=</span> <span class='ivar'>@report</span><span class='period'>.</span><span class='id identifier rubyid_get_auditor_contact_id'>get_auditor_contact_id</span>
  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_auditor_id'>auditor_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_contact'>contact</span> <span class='op'>=</span> <span class='ivar'>@contacts</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_contact'>contact</span><span class='op'>|</span> <span class='id identifier rubyid_contact'>contact</span><span class='period'>.</span><span class='id identifier rubyid_xget_id'>xget_id</span> <span class='op'>==</span> <span class='id identifier rubyid_auditor_id'>auditor_id</span> <span class='rbrace'>}</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_contact'>contact</span><span class='period'>.</span><span class='id identifier rubyid_xget_text'>xget_text</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ContactName</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_epw_file_path-instance_method">
  
    #<strong>get_epw_file_path</strong>  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>get epw_file_path</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


182
183
184</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/buildingsync/model_articulation/facility.rb', line 182</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_epw_file_path'>get_epw_file_path</span>
  <span class='ivar'>@site</span><span class='period'>.</span><span class='id identifier rubyid_get_epw_file_path'>get_epw_file_path</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_model-instance_method">
  
    #<strong>get_model</strong>  &#x21d2; <tt>OpenStudio::Model</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>get OpenStudio model</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>OpenStudio::Model</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


200
201
202</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/buildingsync/model_articulation/facility.rb', line 200</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_model'>get_model</span>
  <span class='kw'>return</span> <span class='ivar'>@site</span><span class='period'>.</span><span class='id identifier rubyid_get_model'>get_model</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_space_types-instance_method">
  
    #<strong>get_space_types</strong>  &#x21d2; <tt>Array&lt;OpenStudio::Model::SpaceType&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>get space types</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;OpenStudio::Model::SpaceType&gt;</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


176
177
178</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/buildingsync/model_articulation/facility.rb', line 176</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_space_types'>get_space_types</span>
  <span class='kw'>return</span> <span class='ivar'>@site</span><span class='period'>.</span><span class='id identifier rubyid_get_space_types'>get_space_types</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="prepare_final_xml-instance_method">
  
    #<strong>prepare_final_xml</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>TODO: I don&#39;t think we want any of this. write parameters to xml</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


433
434
435</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/buildingsync/model_articulation/facility.rb', line 433</span>

<span class='kw'>def</span> <span class='id identifier rubyid_prepare_final_xml'>prepare_final_xml</span>
  <span class='ivar'>@site</span><span class='period'>.</span><span class='id identifier rubyid_prepare_final_xml'>prepare_final_xml</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="read_and_create_initial_systems-instance_method">
  
    #<strong>read_and_create_initial_systems</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>read systems</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/buildingsync/model_articulation/facility.rb', line 211</span>

<span class='kw'>def</span> <span class='id identifier rubyid_read_and_create_initial_systems'>read_and_create_initial_systems</span>
  <span class='id identifier rubyid_systems_xml'>systems_xml</span> <span class='op'>=</span> <span class='id identifier rubyid_xget_or_create'>xget_or_create</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Systems</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_systems_xml'>systems_xml</span><span class='period'>.</span><span class='id identifier rubyid_elements'>elements</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_systems_xml'>systems_xml</span><span class='period'>.</span><span class='id identifier rubyid_elements'>elements</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_system_type'>system_type</span><span class='op'>|</span>
      <span class='ivar'>@systems_map</span><span class='lbracket'>[</span><span class='id identifier rubyid_system_type'>system_type</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
      <span class='id identifier rubyid_system_type'>system_type</span><span class='period'>.</span><span class='id identifier rubyid_elements'>elements</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_system_xml'>system_xml</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_system_xml'>system_xml</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>HVACSystem</span><span class='tstring_end'>&#39;</span></span>
          <span class='ivar'>@systems_map</span><span class='lbracket'>[</span><span class='id identifier rubyid_system_type'>system_type</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>&lt;&lt;</span> <span class='const'><span class='object_link'><a href="../BuildingSync.html" title="BuildingSync (module)">BuildingSync</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="HVACSystem.html" title="BuildingSync::HVACSystem (class)">HVACSystem</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="HVACSystem.html#initialize-instance_method" title="BuildingSync::HVACSystem#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_system_xml'>system_xml</span><span class='comma'>,</span> <span class='ivar'>@ns</span><span class='rparen'>)</span>
        <span class='kw'>elsif</span> <span class='id identifier rubyid_system_xml'>system_xml</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>LightingSystem</span><span class='tstring_end'>&#39;</span></span>
          <span class='ivar'>@systems_map</span><span class='lbracket'>[</span><span class='id identifier rubyid_system_type'>system_type</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>&lt;&lt;</span> <span class='const'><span class='object_link'><a href="../BuildingSync.html" title="BuildingSync (module)">BuildingSync</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="LightingSystemType.html" title="BuildingSync::LightingSystemType (class)">LightingSystemType</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="LightingSystemType.html#initialize-instance_method" title="BuildingSync::LightingSystemType#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_system_xml'>system_xml</span><span class='comma'>,</span> <span class='ivar'>@ns</span><span class='rparen'>)</span>
        <span class='kw'>else</span>
          <span class='ivar'>@systems_map</span><span class='lbracket'>[</span><span class='id identifier rubyid_system_type'>system_type</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_system_xml'>system_xml</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_hvac_xml'>hvac_xml</span> <span class='op'>=</span> <span class='ivar'>@g</span><span class='period'>.</span><span class='id identifier rubyid_add_hvac_system_to_facility'>add_hvac_system_to_facility</span><span class='lparen'>(</span><span class='ivar'>@base_xml</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_lighting_xml'>lighting_xml</span> <span class='op'>=</span> <span class='ivar'>@g</span><span class='period'>.</span><span class='id identifier rubyid_add_lighting_system_to_facility'>add_lighting_system_to_facility</span><span class='lparen'>(</span><span class='ivar'>@base_xml</span><span class='rparen'>)</span>
    <span class='ivar'>@hvac_system</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="HVACSystem.html" title="BuildingSync::HVACSystem (class)">HVACSystem</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="HVACSystem.html#initialize-instance_method" title="BuildingSync::HVACSystem#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_hvac_xml'>hvac_xml</span><span class='comma'>,</span> <span class='ivar'>@ns</span><span class='rparen'>)</span>
    <span class='ivar'>@lighting_system</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="LightingSystemType.html" title="BuildingSync::LightingSystemType (class)">LightingSystemType</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="LightingSystemType.html#initialize-instance_method" title="BuildingSync::LightingSystemType#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_lighting_xml'>lighting_xml</span><span class='comma'>,</span> <span class='ivar'>@ns</span><span class='rparen'>)</span>
    <span class='ivar'>@load_system</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="LoadsSystem.html" title="BuildingSync::LoadsSystem (class)">LoadsSystem</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="LoadsSystem.html#initialize-instance_method" title="BuildingSync::LoadsSystem#initialize (method)">new</a></span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="read_other_details-instance_method">
  
    #<strong>read_other_details</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>read other details from the xml</p>
<ul><li>
<p>contact information</p>
</li><li>
<p>audit levels and dates</p>
</li><li>
<p>Utility information</p>
</li><li>
<p>UDFs</p>
</li></ul>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


266
267
268
269
270
271</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/buildingsync/model_articulation/facility.rb', line 266</span>

<span class='kw'>def</span> <span class='id identifier rubyid_read_other_details'>read_other_details</span>
  <span class='comment'># Get Contact information
</span>  <span class='ivar'>@base_xml</span><span class='period'>.</span><span class='id identifier rubyid_elements'>elements</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='ivar'>@ns</span><span class='embexpr_end'>}</span><span class='tstring_content'>:Contacts/</span><span class='embexpr_beg'>#{</span><span class='ivar'>@ns</span><span class='embexpr_end'>}</span><span class='tstring_content'>:Contact</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_contact'>contact</span><span class='op'>|</span>
    <span class='ivar'>@contacts</span> <span class='op'>&lt;&lt;</span> <span class='const'><span class='object_link'><a href="../BuildingSync.html" title="BuildingSync (module)">BuildingSync</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Contact.html" title="BuildingSync::Contact (class)">Contact</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Contact.html#initialize-instance_method" title="BuildingSync::Contact#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_contact'>contact</span><span class='comma'>,</span> <span class='ivar'>@ns</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="read_xml-instance_method">
  
    #<strong>read_xml</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>read xml</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/buildingsync/model_articulation/facility.rb', line 95</span>

<span class='kw'>def</span> <span class='id identifier rubyid_read_xml'>read_xml</span>
  <span class='comment'># Site - checks
</span>  <span class='id identifier rubyid_site_xml_temp'>site_xml_temp</span> <span class='op'>=</span> <span class='ivar'>@base_xml</span><span class='period'>.</span><span class='id identifier rubyid_get_elements'>get_elements</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='ivar'>@ns</span><span class='embexpr_end'>}</span><span class='tstring_content'>:Sites/</span><span class='embexpr_beg'>#{</span><span class='ivar'>@ns</span><span class='embexpr_end'>}</span><span class='tstring_content'>:Site</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_site_xml_temp'>site_xml_temp</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_site_xml_temp'>site_xml_temp</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='const'>OpenStudio</span><span class='period'>.</span><span class='id identifier rubyid_logFree'>logFree</span><span class='lparen'>(</span><span class='const'>OpenStudio</span><span class='op'>::</span><span class='const'>Error</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>BuildingSync.Facility.read_xml</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Facility ID: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_xget_id'>xget_id</span><span class='embexpr_end'>}</span><span class='tstring_content'> has no Site elements.  Cannot initialize Facility.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>StandardError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Facility with ID: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_xget_id'>xget_id</span><span class='embexpr_end'>}</span><span class='tstring_content'> has no Site elements.  Cannot initialize Facility.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_site_xml_temp'>site_xml_temp</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>1</span>
    <span class='ivar'>@site_xml</span> <span class='op'>=</span> <span class='id identifier rubyid_site_xml_temp'>site_xml_temp</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
    <span class='const'>OpenStudio</span><span class='period'>.</span><span class='id identifier rubyid_logFree'>logFree</span><span class='lparen'>(</span><span class='const'>OpenStudio</span><span class='op'>::</span><span class='const'>Error</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>BuildingSync.Facility.read_xml</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Facility ID: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_xget_id'>xget_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>. There is more than one (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_site_xml_temp'>site_xml_temp</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span><span class='embexpr_end'>}</span><span class='tstring_content'>) Site elements. Only the first Site will be considered (ID: </span><span class='embexpr_beg'>#{</span><span class='ivar'>@site_xml</span><span class='period'>.</span><span class='id identifier rubyid_attributes'>attributes</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ID</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='ivar'>@site_xml</span> <span class='op'>=</span> <span class='id identifier rubyid_site_xml_temp'>site_xml_temp</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
  <span class='kw'>end</span>
  <span class='comment'># Create new Site
</span>  <span class='ivar'>@site</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../BuildingSync.html" title="BuildingSync (module)">BuildingSync</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Site.html" title="BuildingSync::Site (class)">Site</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Site.html#initialize-instance_method" title="BuildingSync::Site#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='ivar'>@site_xml</span><span class='comma'>,</span> <span class='ivar'>@ns</span><span class='rparen'>)</span>

  <span class='comment'># Report - checks
</span>  <span class='id identifier rubyid_report_xml_temp'>report_xml_temp</span> <span class='op'>=</span> <span class='ivar'>@base_xml</span><span class='period'>.</span><span class='id identifier rubyid_get_elements'>get_elements</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='ivar'>@ns</span><span class='embexpr_end'>}</span><span class='tstring_content'>:Reports/</span><span class='embexpr_beg'>#{</span><span class='ivar'>@ns</span><span class='embexpr_end'>}</span><span class='tstring_content'>:Report</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_report_xml_temp'>report_xml_temp</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_report_xml_temp'>report_xml_temp</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='const'>OpenStudio</span><span class='period'>.</span><span class='id identifier rubyid_logFree'>logFree</span><span class='lparen'>(</span><span class='const'>OpenStudio</span><span class='op'>::</span><span class='const'>Error</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>BuildingSync.Facility.read_xml</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Facility with ID: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_xget_id'>xget_id</span><span class='embexpr_end'>}</span><span class='tstring_content'> has no Report elements.  Cannot initialize Facility.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>StandardError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Facility with ID: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_xget_id'>xget_id</span><span class='embexpr_end'>}</span><span class='tstring_content'> has no Report elements.  Cannot initialize Facility.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_report_xml_temp'>report_xml_temp</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>1</span>
    <span class='ivar'>@report_xml</span> <span class='op'>=</span> <span class='id identifier rubyid_report_xml_temp'>report_xml_temp</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
    <span class='const'>OpenStudio</span><span class='period'>.</span><span class='id identifier rubyid_logFree'>logFree</span><span class='lparen'>(</span><span class='const'>OpenStudio</span><span class='op'>::</span><span class='const'>Warn</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>BuildingSync.Facility.read_xml</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>There are more than one (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_report_xml_temp'>report_xml_temp</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span><span class='embexpr_end'>}</span><span class='tstring_content'>) Report elements in your BuildingSync file. Only the first Report will be considered (ID: </span><span class='embexpr_beg'>#{</span><span class='ivar'>@report_xml</span><span class='period'>.</span><span class='id identifier rubyid_attributes'>attributes</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ID</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='ivar'>@report_xml</span> <span class='op'>=</span> <span class='id identifier rubyid_report_xml_temp'>report_xml_temp</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
  <span class='kw'>end</span>
  <span class='comment'># Create new Report
</span>  <span class='ivar'>@report</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../BuildingSync.html" title="BuildingSync (module)">BuildingSync</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Report.html" title="BuildingSync::Report (class)">Report</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Report.html#initialize-instance_method" title="BuildingSync::Report#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='ivar'>@report_xml</span><span class='comma'>,</span> <span class='ivar'>@ns</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_measures_xml_temp'>measures_xml_temp</span> <span class='op'>=</span> <span class='ivar'>@base_xml</span><span class='period'>.</span><span class='id identifier rubyid_get_elements'>get_elements</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='ivar'>@ns</span><span class='embexpr_end'>}</span><span class='tstring_content'>:Measures/</span><span class='embexpr_beg'>#{</span><span class='ivar'>@ns</span><span class='embexpr_end'>}</span><span class='tstring_content'>:Measure</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

  <span class='comment'># Measures - create
</span>  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_measures_xml_temp'>measures_xml_temp</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_measures_xml_temp'>measures_xml_temp</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_measure_xml'>measure_xml</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_measure_xml'>measure_xml</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span> <span class='const'>REXML</span><span class='op'>::</span><span class='const'>Element</span>
        <span class='ivar'>@measures</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../BuildingSync.html" title="BuildingSync (module)">BuildingSync</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Measure.html" title="BuildingSync::Measure (class)">Measure</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Measure.html#initialize-instance_method" title="BuildingSync::Measure#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_measure_xml'>measure_xml</span><span class='comma'>,</span> <span class='ivar'>@ns</span><span class='rparen'>)</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='const'>OpenStudio</span><span class='period'>.</span><span class='id identifier rubyid_logFree'>logFree</span><span class='lparen'>(</span><span class='const'>OpenStudio</span><span class='op'>::</span><span class='const'>Info</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>BuildingSync.Facility.read_xml</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Facility with ID: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_xget_id'>xget_id</span><span class='embexpr_end'>}</span><span class='tstring_content'> has </span><span class='embexpr_beg'>#{</span><span class='ivar'>@measures</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span><span class='embexpr_end'>}</span><span class='tstring_content'> Measure Objects</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_read_other_details'>read_other_details</span>
  <span class='id identifier rubyid_read_and_create_initial_systems'>read_and_create_initial_systems</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="set_all-instance_method">
  
    #<strong>set_all</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>set_all wrapper for Site</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


141
142
143</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/buildingsync/model_articulation/facility.rb', line 141</span>

<span class='kw'>def</span> <span class='id identifier rubyid_set_all'>set_all</span>
  <span class='ivar'>@site</span><span class='period'>.</span><span class='id identifier rubyid_set_all'>set_all</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="write_osm-instance_method">
  
    #<strong>write_osm</strong>(dir)  &#x21d2; <tt>Array</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>write osm</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>dir</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


426
427
428
429</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/buildingsync/model_articulation/facility.rb', line 426</span>

<span class='kw'>def</span> <span class='id identifier rubyid_write_osm'>write_osm</span><span class='lparen'>(</span><span class='id identifier rubyid_dir'>dir</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_scenario_types'>scenario_types</span> <span class='op'>=</span> <span class='ivar'>@site</span><span class='period'>.</span><span class='id identifier rubyid_write_osm'>write_osm</span><span class='lparen'>(</span><span class='id identifier rubyid_dir'>dir</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_scenario_types'>scenario_types</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Sat Sep 11 20:02:58 2021 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.26 (ruby-2.5.9).
</div>

    </div>
  </body>
</html>